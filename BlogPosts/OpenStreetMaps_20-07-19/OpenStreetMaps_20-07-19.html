
<html>

    <head>
        <title>Joseph Crispell | Blog - Progress bar</title>
        <link href="../../default.css" rel="stylesheet" type="text/css">

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109829558-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-109829558-1');
        </script>
    </head>

    <body>

        <!-- Insert Sidebar box -->
        <div id="sidebar" style="top: 43.5%">

            <pageLink><a href="../../index.html">Home</a></pageLink>
            <pageLink><a href="../../Blog.html">Blog</a></pageLink>
            <pageLink><a href="../../About.html">About</a></pageLink>
            <pageLink><a href="../../Outputs.html">Outputs</a></pageLink>
        </div>

        <!-- Insert Title -->
        <div id="title">
            <img src="../../BlogThumbnail.png" width="40%">

        </div>

        <!-- Insert Text Body -->
        <div id="mainText">

            <br><br><br>

            <h1>Plotting maps in R&emsp;20-07-19</h1>

            <p>
                Recently I have been working with maps - trying to understand where all my samples are coming from. To do this I wanted to plot my sampling locations on top of a map. After fiddling with a number of different ways to get maps in <a href="https://www.r-project.org/">R</a>, I have happily fallen upon the <c>OpenStreetMap</c> package.<br><br>

                A great package that can return a map in a variety of styles. Also, all the maps are <a href="https://opensource.org/">open source</a> and available to everyone for free!! Here is some code to get you started:
                
            </p>
            <div id="codeBlock">
              # Load required libraries<br>
              library(OpenStreetMap) # I had to run sudo R CMD javareconf to get rJava to load<br><br>

              # Note latitude and longitude of location<br>
              upperLeft &lt;- c(56.022457,-4.5969357)<br>
              lowerRight &lt;- c(56.014888,-4.5780147)<br><br>

              # Get a satellite image of area of interest<br>
              map <- openmap(upperLeft=upperLeft,<br>
              &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;lowerRight=lowerRight,<br>
              &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;type="bing")<br><br>

              # Plot the map<br>
              plot(map)<br>         
            </div>
            <p>
                You'll get the following image - this is where Joanna and I got engaged! On the shores of Loch Lomond, just outside Glasgow.
            </p>
            <img src="OpenStreetMaps_Thumbnail.png" width="80%" hspace="0.5%" vspace="1%">
            <p>
                Using the <c>type</c> parameter of the <c>openmap()</c> function, you can change the style of the map being returned. The "bing" option returns a satellite image of the map - my favourite!<br><br>

                Sometimes, if a particular area isn't available in a certain style, you'll get an error something like this:<br>
                &emsp;&emsp;<c><font color="red">Error in osmtile(x%%nX, y, zoom, type) : could not obtain tile: ...</font></c><br><br>

                You can try different options for the <c>type</c> parameter to fix this issue. I quite like the "opencyclemap" option. Anyways, enjoy messing with some maps!
            </p>
        </div>

    </body>

</html>
